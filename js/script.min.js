document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("theme-toggle"),t=document.documentElement,n=localStorage.getItem("theme");n&&t.setAttribute("data-theme",n),e.addEventListener("click",()=>{const e="dark"===t.getAttribute("data-theme")?"light":"dark";t.setAttribute("data-theme",e),localStorage.setItem("theme",e)});const r=document.querySelectorAll(".filter-btn"),a=document.querySelectorAll(".gallery-item"),c=(e,t)=>{r.forEach(e=>e.classList.remove("active")),e.classList.add("active"),a.forEach(r=>{t==="all"||r.classList.contains(t)?(r.classList.remove("hidden"),r.style.display=""):(r.classList.add("hidden"),setTimeout(()=>{r.classList.contains("hidden")&&(r.style.display="none")},300))})},i=document.querySelector('.filter-btn[data-filter="all"]');i&&(i.classList.add("active"),c(i,"all")),r.forEach(e=>{e.addEventListener("click",()=>{c(e,e.getAttribute("data-filter"))}),e.addEventListener("keydown",t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.click())})});const l=document.querySelectorAll('img[loading="lazy"]');if("IntersectionObserver"in window){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target;t.dataset.src&&(t.src=t.dataset.src,t.removeAttribute("data-src")),t.unobserve(t)}})});l.forEach(t=>{t.dataset.src&&e.observe(t)})}else l.forEach(e=>{e.dataset.src&&(e.src=e.dataset.src,e.removeAttribute("data-src"))});const d=document.getElementById("calc-form"),o=document.getElementById("price-input"),s=document.getElementById("result");d.addEventListener("submit",e=>{e.preventDefault();const t=o.value;if(""===t||isNaN(t)||Number(t)<0)return o.setCustomValidity("Please enter a valid non-negative number."),o.reportValidity(),!1;o.setCustomValidity("");const n=(1.08*parseFloat(t)).toFixed(2);s.textContent=`Result: $${n}`})});
